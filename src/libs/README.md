# libheif-js

See `libheif.d.ts`, which is a typescript header file which
exposes the API for libheif-js. The `EmbindModule` are functions
intended to be called by the user:

```js
interface EmbindModule {
  heif_error_code: {heif_error_Ok: heif_error_codeValue<0>, heif_error_Input_does_not_exist: heif_error_codeValue<1>, heif_error_Invalid_input: heif_error_codeValue<2>, heif_error_Plugin_loading_error: heif_error_codeValue<11>, heif_error_Unsupported_filetype: heif_error_codeValue<3>, heif_error_Unsupported_feature: heif_error_codeValue<4>, heif_error_Usage_error: heif_error_codeValue<5>, heif_error_Memory_allocation_error: heif_error_codeValue<6>, heif_error_Decoder_plugin_error: heif_error_codeValue<7>, heif_error_Encoder_plugin_error: heif_error_codeValue<8>, heif_error_Encoding_error: heif_error_codeValue<9>, heif_error_Color_profile_does_not_exist: heif_error_codeValue<10>};
  heif_suberror_code: {heif_suberror_Unspecified: heif_suberror_codeValue<0>, heif_suberror_Cannot_write_output_data: heif_suberror_codeValue<5000>, heif_suberror_Compression_initialisation_error: heif_suberror_codeValue<1001>, heif_suberror_Decompression_invalid_data: heif_suberror_codeValue<150>, heif_suberror_Encoder_initialization: heif_suberror_codeValue<5001>, heif_suberror_Encoder_encoding: heif_suberror_codeValue<5002>, heif_suberror_Encoder_cleanup: heif_suberror_codeValue<5003>, heif_suberror_Too_many_regions: heif_suberror_codeValue<5004>, heif_suberror_End_of_data: heif_suberror_codeValue<100>, heif_suberror_Invalid_box_size: heif_suberror_codeValue<101>, heif_suberror_No_ftyp_box: heif_suberror_codeValue<102>, heif_suberror_No_idat_box: heif_suberror_codeValue<103>, heif_suberror_No_meta_box: heif_suberror_codeValue<104>, heif_suberror_No_hdlr_box: heif_suberror_codeValue<105>, heif_suberror_No_hvcC_box: heif_suberror_codeValue<106>, heif_suberror_No_vvcC_box: heif_suberror_codeValue<141>, heif_suberror_No_pitm_box: heif_suberror_codeValue<107>, heif_suberror_No_ipco_box: heif_suberror_codeValue<108>, heif_suberror_No_ipma_box: heif_suberror_codeValue<109>, heif_suberror_No_iloc_box: heif_suberror_codeValue<110>, heif_suberror_No_iinf_box: heif_suberror_codeValue<111>, heif_suberror_No_iprp_box: heif_suberror_codeValue<112>, heif_suberror_No_iref_box: heif_suberror_codeValue<113>, heif_suberror_No_pict_handler: heif_suberror_codeValue<114>, heif_suberror_Ipma_box_references_nonexisting_property: heif_suberror_codeValue<115>, heif_suberror_No_properties_assigned_to_item: heif_suberror_codeValue<116>, heif_suberror_No_item_data: heif_suberror_codeValue<117>, heif_suberror_Invalid_grid_data: heif_suberror_codeValue<118>, heif_suberror_Missing_grid_images: heif_suberror_codeValue<119>, heif_suberror_No_av1C_box: heif_suberror_codeValue<131>, heif_suberror_Invalid_clean_aperture: heif_suberror_codeValue<120>, heif_suberror_Invalid_overlay_data: heif_suberror_codeValue<121>, heif_suberror_Overlay_image_outside_of_canvas: heif_suberror_codeValue<122>, heif_suberror_Plugin_is_not_loaded: heif_suberror_codeValue<6001>, heif_suberror_Plugin_loading_error: heif_suberror_codeValue<6000>, heif_suberror_Auxiliary_image_type_unspecified: heif_suberror_codeValue<123>, heif_suberror_Cannot_read_plugin_directory: heif_suberror_codeValue<6002>, heif_suberror_No_matching_decoder_installed: heif_suberror_codeValue<6003>, heif_suberror_No_or_invalid_primary_item: heif_suberror_codeValue<124>, heif_suberror_No_infe_box: heif_suberror_codeValue<125>, heif_suberror_Security_limit_exceeded: heif_suberror_codeValue<1000>, heif_suberror_Unknown_color_profile_type: heif_suberror_codeValue<126>, heif_suberror_Wrong_tile_image_chroma_format: heif_suberror_codeValue<127>, heif_suberror_Invalid_fractional_number: heif_suberror_codeValue<128>, heif_suberror_Invalid_image_size: heif_suberror_codeValue<129>, heif_suberror_Nonexisting_item_referenced: heif_suberror_codeValue<2000>, heif_suberror_Null_pointer_argument: heif_suberror_codeValue<2001>, heif_suberror_Nonexisting_image_channel_referenced: heif_suberror_codeValue<2002>, heif_suberror_Unsupported_plugin_version: heif_suberror_codeValue<2003>, heif_suberror_Unsupported_writer_version: heif_suberror_codeValue<2004>, heif_suberror_Unsupported_parameter: heif_suberror_codeValue<2005>, heif_suberror_Invalid_parameter_value: heif_suberror_codeValue<2006>, heif_suberror_Invalid_property: heif_suberror_codeValue<2007>, heif_suberror_Item_reference_cycle: heif_suberror_codeValue<2008>, heif_suberror_Invalid_pixi_box: heif_suberror_codeValue<130>, heif_suberror_Invalid_region_data: heif_suberror_codeValue<136>, heif_suberror_Unsupported_codec: heif_suberror_codeValue<3000>, heif_suberror_Unsupported_image_type: heif_suberror_codeValue<3001>, heif_suberror_Unsupported_data_version: heif_suberror_codeValue<3002>, heif_suberror_Unsupported_generic_compression_method: heif_suberror_codeValue<3006>, heif_suberror_Unsupported_color_conversion: heif_suberror_codeValue<3003>, heif_suberror_Unsupported_item_construction_method: heif_suberror_codeValue<3004>, heif_suberror_Unsupported_header_compression_method: heif_suberror_codeValue<3005>, heif_suberror_Unsupported_bit_depth: heif_suberror_codeValue<4000>, heif_suberror_Wrong_tile_image_pixel_depth: heif_suberror_codeValue<132>, heif_suberror_Unknown_NCLX_color_primaries: heif_suberror_codeValue<133>, heif_suberror_Unknown_NCLX_transfer_characteristics: heif_suberror_codeValue<134>, heif_suberror_Unknown_NCLX_matrix_coefficients: heif_suberror_codeValue<135>, heif_suberror_No_ispe_property: heif_suberror_codeValue<137>, heif_suberror_Camera_intrinsic_matrix_undefined: heif_suberror_codeValue<138>, heif_suberror_Camera_extrinsic_matrix_undefined: heif_suberror_codeValue<139>, heif_suberror_Invalid_J2K_codestream: heif_suberror_codeValue<140>, heif_suberror_No_icbr_box: heif_suberror_codeValue<142>};
  heif_compression_format: {heif_compression_undefined: heif_compression_formatValue<0>, heif_compression_HEVC: heif_compression_formatValue<1>, heif_compression_AVC: heif_compression_formatValue<2>, heif_compression_JPEG: heif_compression_formatValue<3>, heif_compression_AV1: heif_compression_formatValue<4>, heif_compression_VVC: heif_compression_formatValue<5>, heif_compression_EVC: heif_compression_formatValue<6>, heif_compression_JPEG2000: heif_compression_formatValue<7>, heif_compression_uncompressed: heif_compression_formatValue<8>, heif_compression_mask: heif_compression_formatValue<9>, heif_compression_HTJ2K: heif_compression_formatValue<10>};
  heif_chroma: {heif_chroma_undefined: heif_chromaValue<99>, heif_chroma_monochrome: heif_chromaValue<0>, heif_chroma_420: heif_chromaValue<1>, heif_chroma_422: heif_chromaValue<2>, heif_chroma_444: heif_chromaValue<3>, heif_chroma_interleaved_RGB: heif_chromaValue<10>, heif_chroma_interleaved_RGBA: heif_chromaValue<11>, heif_chroma_interleaved_RRGGBB_BE: heif_chromaValue<12>, heif_chroma_interleaved_RRGGBBAA_BE: heif_chromaValue<13>, heif_chroma_interleaved_RRGGBB_LE: heif_chromaValue<14>, heif_chroma_interleaved_RRGGBBAA_LE: heif_chromaValue<15>, heif_chroma_interleaved_24bit: heif_chromaValue<10>, heif_chroma_interleaved_32bit: heif_chromaValue<11>};
  heif_chroma_downsampling_algorithm: {heif_chroma_downsampling_average: heif_chroma_downsampling_algorithmValue<2>, heif_chroma_downsampling_nearest_neighbor: heif_chroma_downsampling_algorithmValue<1>, heif_chroma_downsampling_sharp_yuv: heif_chroma_downsampling_algorithmValue<3>};
  heif_chroma_upsampling_algorithm: {heif_chroma_upsampling_bilinear: heif_chroma_upsampling_algorithmValue<2>, heif_chroma_upsampling_nearest_neighbor: heif_chroma_upsampling_algorithmValue<1>};
  heif_colorspace: {heif_colorspace_undefined: heif_colorspaceValue<99>, heif_colorspace_YCbCr: heif_colorspaceValue<0>, heif_colorspace_RGB: heif_colorspaceValue<1>, heif_colorspace_monochrome: heif_colorspaceValue<2>};
  heif_channel: {heif_channel_Y: heif_channelValue<0>, heif_channel_Cr: heif_channelValue<2>, heif_channel_Cb: heif_channelValue<1>, heif_channel_R: heif_channelValue<3>, heif_channel_G: heif_channelValue<4>, heif_channel_B: heif_channelValue<5>, heif_channel_Alpha: heif_channelValue<6>, heif_channel_interleaved: heif_channelValue<10>};
  heif_filetype_result: {heif_filetype_no: heif_filetype_resultValue<0>, heif_filetype_yes_supported: heif_filetype_resultValue<1>, heif_filetype_yes_unsupported: heif_filetype_resultValue<2>, heif_filetype_maybe: heif_filetype_resultValue<3>};
  heif_context: {};
  heif_context_alloc(): heif_context;
  heif_image_handle: {};
  heif_image: {};
  heif_context_free(_0: heif_context): void;
  heif_image_handle_release(_0: heif_image_handle): void;
  heif_image_release(_0: heif_image): void;
  heif_context_get_number_of_top_level_images(_0: heif_context): number;
  heif_image_handle_get_width(_0: heif_image_handle): number;
  heif_image_handle_get_height(_0: heif_image_handle): number;
  heif_image_handle_is_primary_image(_0: heif_image_handle): number;
  heif_get_version_number(): number;
  heif_get_version(): string;
  heif_js_check_filetype(_0: EmbindString): heif_filetype_result;
  heif_context_read_from_memory(_0: heif_context, _1: EmbindString): heif_error;
  heif_js_context_get_list_of_top_level_image_IDs(_0: heif_context): any;
  heif_js_context_get_image_handle(_0: heif_context, _1: number): any;
  heif_js_context_get_primary_image_handle(_0: heif_context): any;
  heif_js_decode_image2(_0: heif_image_handle, _1: heif_colorspace, _2: heif_chroma): any;
}
```